<html>
<head>
  <title>react/redux/react-router</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307425 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1489"/>
<h1>react/redux/react-router</h1>

<div>
<span><div><h1 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 2.25em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.2; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238);"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 2.25em; position: relative; font-weight: bold; line-height: 1.2; cursor: text; border-bottom: 1px solid rgb(238, 238, 238);">react</span></h1><blockquote style="box-sizing: border-box; margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div style="box-sizing: border-box;"><a href="https://react.docschina.org/" style="box-sizing: border-box; cursor: pointer; color: rgb(65, 131, 196); -webkit-user-drag: none;">中文文档</a></div><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">UI插件：framework amaze ui ant Design weui</span> <a href="http://material-ui.com/" style="box-sizing: border-box;">material-ui.com</a></div></blockquote><ul style="box-sizing: border-box; margin: 0.8em 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box; font-weight: bold;">虚拟DOM</span> <span style="box-sizing: border-box;">jQuery是全局更新DOM，react是局部更新DOM ，尽量减少对DOM的操作</span></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">react：性能的优化</span></div></li></ul><h2 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.75em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.225; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238);"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.75em; position: relative; font-weight: bold; line-height: 1.225; cursor: text; border-bottom: 1px solid rgb(238, 238, 238);">安装</span></h2><ul style="box-sizing: border-box; margin: 0.8em 0px 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div><ul style="margin-top: 0.8em; margin-bottom: 0.8em; padding-left: 30px; position: relative;"><li style="position: relative;"><div><span style="font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">-react-app</span>初始化项目</div><div lang="bash" style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-image: inherit; background-position: inherit; background-size: inherit; background-repeat: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; width: inherit; position: relative !important;"><div><br/></div><div>create-react-app [xxx项目名称]</div></div></li></ul><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">react-devtools</span></h3><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div>安装扩展程序 , 或者用<a href="file:///C:/Users/Administrator/Desktop/third/react/react-developer-tools" style="color: rgb(65, 131, 196); cursor: pointer; -webkit-user-drag: none;">该包</a></div></blockquote><ul style="margin-top: 0.8em; margin-bottom: 0.8em; padding-left: 30px; position: relative;"><li style="position: relative;"><div>下载安装包</div></li></ul><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(51, 0, 170);">git</span> clone <a href="https://github.com/facebook/react-devtools.git">https://github.com/facebook/react-devtools.git</a></div></div><ul style="margin-top: 0.8em; margin-bottom: 0.8em; padding-left: 30px; position: relative;"><li style="position: relative;"><div>node build，如果缺少<span style="font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">chalk</span>,安装chalk后再次node bulid</div></li></ul><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div>cnpm install chalk</div><div><br/></div><div><span style="color: rgb(51, 0, 170);">node</span> bulid</div></div><ul style="margin-top: 0.8em; margin-bottom: 0.8em; padding-left: 30px; position: relative;"><li style="position: relative;"><div>下载回来，进入<span style="font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">react-devtools</span>文件夹，然后安装依赖</div></li><li style="position: relative;"><div>在进入<span style="font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">shells/chrome</span>里面执行<span style="font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">node build</span></div></li><li style="position: relative;"><div>在chrome浏览器打开<a href="chrome://extensions/" style="font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">chrome://extensions/</a>，打开开发者模式</div></li><li style="position: relative;"><div>加载<span style="font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">shells/chrome/unpack</span>目录，安装插件成功</div></li></ul><h2 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238);"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; border-bottom: 1px solid rgb(238, 238, 238);">组件</span></h2><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div>react定义组件，先创建xxx.js文件，再在文件中引入react模块</div></blockquote><ul style="margin-top: 0.8em; margin-bottom: 0.8em; padding-left: 30px; position: relative;"><li style="position: relative;"><div>在文件中引入react模块</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(119, 0, 136);">import</span> <span style="color: rgb(0, 0, 255);">React</span>, { <span style="color: rgb(0, 0, 255);">Component</span> } <span style="color: rgb(119, 0, 136);">from</span> <span style="color: rgb(170, 17, 17);">'react'</span>; <span style="color: rgb(170, 85, 0);">//每一个js文件都要先引入react</span></div><div><br/></div><div><span style="color: rgb(119, 0, 136);">import</span> <span style="color: rgb(0, 0, 255);">logo</span> <span style="color: rgb(119, 0, 136);">from</span> <span style="color: rgb(170, 17, 17);">'./logo.svg'</span>;<span style="color: rgb(170, 85, 0);">//引入图片</span></div><div><span style="color: rgb(119, 0, 136);">import</span> <span style="color: rgb(170, 17, 17);">'./App.css'</span>; <span style="color: rgb(170, 85, 0);">//引入css文件</span></div></div></li><li style="position: relative;"><div>所有组件继承于Component</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(119, 0, 136);">class</span> <span style="color: rgb(0, 0, 255);">App</span> <span style="color: rgb(119, 0, 136);">extends</span> Component {<span style="color: rgb(170, 85, 0);">//APP.js文件继承于Component</span></div><div>render() { <span style="color: rgb(170, 85, 0);">//渲染页面</span></div><div><span style="color: rgb(119, 0, 136);">return</span> (</div><div><span style="color: rgb(152, 26, 26);">&lt;</span>div className<span style="color: rgb(152, 26, 26);">=</span><span style="color: rgb(170, 17, 17);">&quot;App&quot;</span><span style="color: rgb(152, 26, 26);">&gt;</span> <span style="color: rgb(170, 85, 0);">//className相当于class</span></div><div><span style="color: rgb(152, 26, 26);">&lt;</span>header className<span style="color: rgb(152, 26, 26);">=</span><span style="color: rgb(170, 17, 17);">&quot;App-header&quot;</span><span style="color: rgb(152, 26, 26);">&gt;</span></div><div><span style="color: rgb(152, 26, 26);">&lt;</span>img src<span style="color: rgb(152, 26, 26);">=</span>{logo} className<span style="color: rgb(152, 26, 26);">=</span><span style="color: rgb(170, 17, 17);">&quot;App-logo&quot;</span> alt<span style="color: rgb(152, 26, 26);">=</span><span style="color: rgb(170, 17, 17);">&quot;logo&quot;</span> <span style="color: rgb(152, 26, 26);">/&gt;</span></div><div><span style="color: rgb(152, 26, 26);">&lt;</span><span style="color: rgb(255, 85, 0);">/header&gt;</span></div><div><span style="color: rgb(152, 26, 26);">&lt;</span><span style="color: rgb(255, 85, 0);">/div&gt;</span></div><div>);</div><div>}</div><div>}</div></div></li><li style="position: relative;"><div>导出组件</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(119, 0, 136);">export</span> <span style="color: rgb(119, 0, 136);">default</span> App; <span style="color: rgb(170, 85, 0);">//导出</span></div></div></li></ul><h2 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238);"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; border-bottom: 1px solid rgb(238, 238, 238);">react实行单项数据绑定</span></h2><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">数据</span></h3><div>model</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: pre-wrap; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div>this.state = {</div><div>name:&quot;ly&quot;</div><div>}</div><div><br/></div><div><br/></div></div><div>view</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: pre-wrap; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div>&lt;p&gt;{this.state.name}</div><div><br/></div><div><br/></div></div><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">事件</span></h3><div>vue-&gt;@click</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: pre-wrap; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div>onChnage={}</div><div>onClick={}</div><div>onKey={}</div><div><br/></div><div><br/></div></div><h2 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238);"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; border-bottom: 1px solid rgb(238, 238, 238);">react-router-dom 路由</span></h2><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div><a href="https://reacttraining.com/react-router/web/example/basic" style="color: rgb(65, 131, 196); cursor: pointer; -webkit-user-drag: none;">参考文档</a></div></blockquote><h2 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238);"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; border-bottom: 1px solid rgb(238, 238, 238);">JSX</span></h2><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div>JSX是一种JavaScript的语法扩展。</div><div>我们可以在JSX当中任意使用JavaScript表达式，在JSX当中的表达式要包含在大括号中</div></blockquote><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(119, 0, 136);">function</span> <span style="color: rgb(0, 0, 255);">formatName</span>(<span style="color: rgb(0, 0, 255);">user</span>) {</div><div><span style="color: rgb(119, 0, 136);">return</span> <span style="color: rgb(0, 85, 170);">user</span>.firstName <span style="color: rgb(152, 26, 26);">+</span> <span style="color: rgb(170, 17, 17);">' '</span> <span style="color: rgb(152, 26, 26);">+</span> <span style="color: rgb(0, 85, 170);">user</span>.lastName;</div><div>}</div><div><br/></div><div><span style="color: rgb(119, 0, 136);">const</span> <span style="color: rgb(0, 0, 255);">user</span> <span style="color: rgb(152, 26, 26);">=</span> {</div><div>firstName: <span style="color: rgb(170, 17, 17);">'Harper'</span>,</div><div>lastName: <span style="color: rgb(170, 17, 17);">'Perez'</span></div><div>};</div><div><br/></div><div><span style="color: rgb(119, 0, 136);">const</span> <span style="color: rgb(0, 0, 255);">element</span> <span style="color: rgb(152, 26, 26);">=</span> (</div><div><span style="color: rgb(17, 119, 0);">&lt;</span><span style="color: rgb(17, 119, 0);">h1</span><span style="color: rgb(17, 119, 0);">&gt;</span></div><div>Hello, {formatName(user)}!</div><div><span style="color: rgb(17, 119, 0);">&lt;/</span><span style="color: rgb(17, 119, 0);">h1</span><span style="color: rgb(17, 119, 0);">&gt;</span></div><div>);</div><div><br/></div><div>ReactDOM.render(</div><div>element,</div><div>document.getElementById(<span style="color: rgb(170, 17, 17);">'root'</span>)</div><div>);</div></div><h2 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238);"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; border-bottom: 1px solid rgb(238, 238, 238);">react-redux</span></h2><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div>Redux 是 JavaScript 状态容器，提供可预测化的状态管理。</div><div><a href="https://www.redux.org.cn/" style="color: rgb(65, 131, 196); cursor: pointer; -webkit-user-drag: none;">参考文档</a> <a href="https://github.com/Wscats/react-tutorial/issues/8" style="color: rgb(65, 131, 196); cursor: pointer; -webkit-user-drag: none;">githu参考文件</a></div></blockquote><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">安装</span></h3><div>在项目目录下安装以下模块</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(51, 0, 170);">npm</span> install <span style="color: rgb(0, 0, 204);">--save</span> react-redux</div><div><span style="color: rgb(51, 0, 170);">npm</span> install <span style="color: rgb(0, 0, 204);">--save</span> redux</div></div><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">引入</span></h3><div>在App.jsx 或index.js 文件中引入</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(170, 85, 0);">//redux</span></div><div><span style="color: rgb(119, 0, 136);">import</span> {<span style="color: rgb(0, 0, 255);">Provider</span>, <span style="color: rgb(0, 0, 255);">connect</span>} <span style="color: rgb(119, 0, 136);">from</span> <span style="color: rgb(170, 17, 17);">'react-redux'</span>;</div><div><span style="color: rgb(119, 0, 136);">import</span> {<span style="color: rgb(0, 0, 255);">createStore</span>} <span style="color: rgb(119, 0, 136);">from</span> <span style="color: rgb(170, 17, 17);">'redux'</span>;</div></div><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">配置Action</span></h3><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div>要更新state数据时，需要发起一个action请求，用action来描述所有变化。</div></blockquote><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(170, 85, 0);">// Action 用来描述所有的变化</span></div><div><span style="color: rgb(119, 0, 136);">const</span> <span style="color: rgb(0, 0, 255);">increaseAction</span> <span style="color: rgb(152, 26, 26);">=</span> {</div><div>type: <span style="color: rgb(170, 17, 17);">'increase'</span></div><div>}</div><div><br/></div><div><span style="color: rgb(119, 0, 136);">const</span> <span style="color: rgb(0, 0, 255);">multiAction</span> <span style="color: rgb(152, 26, 26);">=</span> {</div><div>type: <span style="color: rgb(170, 17, 17);">'multi'</span></div><div>}</div></div><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">配置Reduce（仓库即store里的counter）</span></h3><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div>为了把action和stat串起来，开发一些函数，即reducer利用action管理整个应用的state</div><div>灵活运用<span style="font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">...</span>运算符或者<span style="font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">Object.assign()</span></div></blockquote><ul style="margin-top: 0.8em; margin-bottom: 0.8em; padding-left: 30px; position: relative;"><li style="position: relative;"><div>用<span style="font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">...</span>运算符表示继承了什么什么，如 <span style="font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">...state</span>表示继承了state（大概这个意思）</div></li><li style="position: relative;"><div>Object.assign()方法用于将所有可枚举的属性的值从一个或多个源对象复制到目标对象。它将返回目标对象</div></li><li style="position: relative;"><div>谨记永远不要修改state，而是返回一个全新的state</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(170, 85, 0);">// Reducer</span></div><div><span style="color: rgb(119, 0, 136);">function</span> <span style="color: rgb(0, 0, 255);">counter</span>(<span style="color: rgb(0, 0, 255);">state</span> <span style="color: rgb(152, 26, 26);">=</span> {</div><div>count: <span style="color: rgb(17, 102, 68);">0</span></div><div>}, <span style="color: rgb(0, 0, 255);">action</span>) {</div><div><span style="color: rgb(119, 0, 136);">const</span> <span style="color: rgb(0, 0, 255);">count</span> <span style="color: rgb(152, 26, 26);">=</span> <span style="color: rgb(0, 85, 170);">state</span>.count</div><div><span style="color: rgb(119, 0, 136);">switch</span> (<span style="color: rgb(0, 85, 170);">action</span>.type) {</div><div><span style="color: rgb(119, 0, 136);">case</span> <span style="color: rgb(170, 17, 17);">'increase'</span>:</div><div><span style="color: rgb(119, 0, 136);">return</span> {</div><div><span style="color: rgb(85, 85, 85);">...</span><span style="color: rgb(0, 85, 170);">state</span>,</div><div><span style="color: rgb(0, 85, 170);">count</span>: <span style="color: rgb(0, 85, 170);">count</span> <span style="color: rgb(152, 26, 26);">+</span> <span style="color: rgb(17, 102, 68);">2</span></div><div>}</div><div><span style="color: rgb(119, 0, 136);">case</span> <span style="color: rgb(170, 17, 17);">'multi'</span>:</div><div><span style="color: rgb(119, 0, 136);">return</span> Object.assign({}, <span style="color: rgb(0, 85, 170);">state</span>, {name: <span style="color: rgb(0, 85, 170);">action</span>.name});</div><div><span style="color: rgb(119, 0, 136);">default</span>:</div><div><span style="color: rgb(119, 0, 136);">return</span> <span style="color: rgb(0, 85, 170);">state</span></div><div>}</div><div>}</div></div></li></ul><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">创建store</span></h3><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(170, 85, 0);">// Store 创建仓库</span></div><div><span style="color: rgb(119, 0, 136);">const</span> <span style="color: rgb(0, 0, 255);">store</span> <span style="color: rgb(152, 26, 26);">=</span> createStore(counter);</div></div><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">将创建store和reducer结合</span></h3><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(170, 85, 0);">// Reducer 创建仓库</span></div><div><span style="color: rgb(119, 0, 136);">const</span> <span style="color: rgb(0, 0, 255);">store</span> <span style="color: rgb(152, 26, 26);">=</span> createStore(<span style="color: rgb(119, 0, 136);">function</span>(<span style="color: rgb(0, 0, 255);">state</span><span style="color: rgb(152, 26, 26);">=</span>{</div><div><span style="color: rgb(170, 85, 0);">// 定义isShowActionSheet的初始状态，其他控制isShowActionSheet的都是改变这里的isShowActionSheet</span></div><div>isShowActionSheet:<span style="color: rgb(34, 17, 153);">false</span></div><div><br/></div><div>}, <span style="color: rgb(0, 0, 255);">action</span>){</div><div><span style="color: rgb(119, 0, 136);">const</span> <span style="color: rgb(0, 0, 255);">count</span> <span style="color: rgb(152, 26, 26);">=</span> <span style="color: rgb(0, 85, 170);">state</span>.count</div><div><span style="color: rgb(119, 0, 136);">switch</span> (<span style="color: rgb(0, 85, 170);">action</span>.type) {</div><div><span style="color: rgb(119, 0, 136);">case</span> <span style="color: rgb(170, 17, 17);">'increase'</span>:</div><div><span style="color: rgb(119, 0, 136);">return</span> {</div><div><span style="color: rgb(85, 85, 85);">...</span><span style="color: rgb(0, 85, 170);">state</span>,</div><div><span style="color: rgb(0, 85, 170);">count</span>: <span style="color: rgb(0, 85, 170);">count</span> <span style="color: rgb(152, 26, 26);">+</span> <span style="color: rgb(17, 102, 68);">2</span></div><div>}</div><div><span style="color: rgb(119, 0, 136);">case</span> <span style="color: rgb(170, 17, 17);">'multi'</span>:</div><div><span style="color: rgb(119, 0, 136);">return</span> Object.assign({}, <span style="color: rgb(0, 85, 170);">state</span>, { name: <span style="color: rgb(0, 85, 170);">action</span>.name });</div><div><span style="color: rgb(119, 0, 136);">case</span> <span style="color: rgb(170, 17, 17);">'toggleSheet'</span> : <span style="color: rgb(170, 85, 0);">//toggleSheet为案例中的点击事件，理解：action的类型，也就是用于更新state的方法</span></div><div><span style="color: rgb(119, 0, 136);">return</span> {</div><div><span style="color: rgb(85, 85, 85);">...</span><span style="color: rgb(0, 85, 170);">state</span>, <span style="color: rgb(170, 85, 0);">//表示继承了state，这样下面的数据改变才有效果</span></div><div>isShowActionSheet:<span style="color: rgb(0, 85, 170);">action</span>.isShowActionSheet</div><div>}</div><div><span style="color: rgb(119, 0, 136);">default</span>:</div><div><span style="color: rgb(119, 0, 136);">return</span> <span style="color: rgb(0, 85, 170);">state</span></div><div>}</div><div>})</div></div><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">Provider</span></h3><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div>react-redux 提供的一个 React 组件 ,把 store 提供给其子组件</div></blockquote><ul style="margin-top: 0.8em; margin-bottom: 0.8em; padding-left: 30px; position: relative;"><li style="position: relative;"><div>在原应用组件上包裹一层，使原来整个应用成为Provider的子组件</div></li><li style="position: relative;"><div>接收Redux的store作为props，通过context对象传递给子孙组件上的connect (<span style="font-weight: bold;">context 有待研究</span>)</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div>{<span style="color: rgb(170, 85, 0);">/*index.js中*/</span>}</div><div>ReactDOM.render(</div><div><span style="color: rgb(152, 26, 26);">&lt;</span>Provider store<span style="color: rgb(152, 26, 26);">=</span>{store}<span style="color: rgb(152, 26, 26);">&gt;</span></div><div><span style="color: rgb(152, 26, 26);">&lt;</span>Router<span style="color: rgb(152, 26, 26);">&gt;</span></div><div><span style="color: rgb(152, 26, 26);">&lt;</span>div<span style="color: rgb(152, 26, 26);">&gt;</span></div><div><span style="color: rgb(152, 26, 26);">&lt;</span>Route path<span style="color: rgb(152, 26, 26);">=</span><span style="color: rgb(170, 17, 17);">&quot;/home/&quot;</span> component<span style="color: rgb(152, 26, 26);">=</span>{Home} <span style="color: rgb(255, 85, 0);">/&gt;</span></div><div><span style="color: rgb(152, 26, 26);">&lt;</span>Route path<span style="color: rgb(152, 26, 26);">=</span><span style="color: rgb(170, 17, 17);">&quot;/detail/&quot;</span> component<span style="color: rgb(152, 26, 26);">=</span>{Detail} <span style="color: rgb(255, 85, 0);">/&gt;</span></div><div><span style="color: rgb(152, 26, 26);">&lt;</span>XactionSheet <span style="color: rgb(152, 26, 26);">/&gt;</span></div><div>{<span style="color: rgb(170, 85, 0);">/* 重定向【设置默认路由】 */</span>}</div><div><span style="color: rgb(152, 26, 26);">&lt;</span>Redirect path<span style="color: rgb(152, 26, 26);">=</span><span style="color: rgb(170, 17, 17);">&quot;/&quot;</span> to<span style="color: rgb(152, 26, 26);">=</span>{{ pathname: <span style="color: rgb(170, 17, 17);">'/home/wechat'</span> }} <span style="color: rgb(255, 85, 0);">/&gt;</span></div><div><span style="color: rgb(152, 26, 26);">&lt;</span><span style="color: rgb(255, 85, 0);">/div&gt;</span></div><div><span style="color: rgb(152, 26, 26);">&lt;</span><span style="color: rgb(255, 85, 0);">/Router&gt;</span></div><div><span style="color: rgb(152, 26, 26);">&lt;</span><span style="color: rgb(255, 85, 0);">/Provider&gt;,</span></div><div><br/></div><div>document.getElementById(<span style="color: rgb(170, 17, 17);">'root'</span>)</div><div>);</div></div></li></ul><h4 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.25em; position: relative; line-height: 1.4; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.25em; position: relative; line-height: 1.4; cursor: text;">网络参考</span></h4><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div><a href="https://www.jianshu.com/p/ef6269d9d75a" style="color: rgb(65, 131, 196); cursor: pointer; -webkit-user-drag: none;">地址</a></div></blockquote><div><span style="font-weight: bold;">核心代码</span></div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(119, 0, 136);">export</span> <span style="color: rgb(119, 0, 136);">default</span> <span style="color: rgb(119, 0, 136);">class</span> <span style="color: rgb(0, 0, 255);">Provider</span> <span style="color: rgb(119, 0, 136);">extends</span> Component {</div><div>getChildContext() {</div><div><span style="color: rgb(119, 0, 136);">return</span> { store: <span style="color: rgb(119, 0, 136);">this</span>.store }</div><div>}</div><div><br/></div><div>constructor(<span style="color: rgb(0, 0, 255);">props</span>, <span style="color: rgb(0, 0, 255);">context</span>) {</div><div><span style="color: rgb(119, 0, 136);">super</span>(<span style="color: rgb(0, 85, 170);">props</span>, <span style="color: rgb(0, 85, 170);">context</span>)</div><div><span style="color: rgb(119, 0, 136);">this</span>.store <span style="color: rgb(152, 26, 26);">=</span> <span style="color: rgb(0, 85, 170);">props</span>.store</div><div>}</div><div><br/></div><div>render() {</div><div><span style="color: rgb(119, 0, 136);">return</span> Children.only(<span style="color: rgb(119, 0, 136);">this</span>.props.children)</div><div>}</div><div>}</div><div><br/></div><div><span style="color: rgb(119, 0, 136);">if</span> (process.env.NODE_ENV <span style="color: rgb(152, 26, 26);">!==</span> <span style="color: rgb(170, 17, 17);">'production'</span>) {</div><div><a href="http://provider.prototype.componentwillreceiveprops/">Provider.prototype.componentWillReceiveProps</a><span style="color: rgb(152, 26, 26);">=</span> <span style="color: rgb(119, 0, 136);">function</span> (<span style="color: rgb(0, 0, 255);">nextProps</span>) {</div><div><span style="color: rgb(119, 0, 136);">const</span> { <span style="color: rgb(0, 0, 255);">store</span> } <span style="color: rgb(152, 26, 26);">=</span> <span style="color: rgb(119, 0, 136);">this</span></div><div><span style="color: rgb(119, 0, 136);">const</span> { store: <span style="color: rgb(0, 0, 255);">nextStore</span> } <span style="color: rgb(152, 26, 26);">=</span> <span style="color: rgb(0, 85, 170);">nextProps</span></div><div><br/></div><div><span style="color: rgb(119, 0, 136);">if</span> (<span style="color: rgb(0, 85, 170);">store</span> <span style="color: rgb(152, 26, 26);">!==</span> <span style="color: rgb(0, 85, 170);">nextStore</span>) {</div><div>warnAboutReceivingStore()</div><div>}</div><div>}</div><div>}</div><div><br/></div><div>Provider.propTypes <span style="color: rgb(152, 26, 26);">=</span> {</div><div>store: storeShape.isRequired,</div><div>children: PropTypes.element.isRequired</div><div>}</div><div>Provider.childContextTypes <span style="color: rgb(152, 26, 26);">=</span> {</div><div>store: storeShape.isRequired</div><div>}</div></div><ul style="margin-top: 0.8em; margin-bottom: 0.8em; padding-left: 30px; position: relative;"><li style="position: relative;"><div>首先，对原组件进行了封装： <span style="font-weight: bold;">render方法中, 渲染了其子级元素, 使整个应用成为Provider的子组件。</span></div><div>（1）this.props.childern用于获取当前组件的所有子组件</div><div>（2）Children为react内部定义的顶级对象, 该对象封装了一些方便操作字组件的方法. Children.only用于获取仅有的一个子组件,没有或者超过一个均会报错. 所以注意: 确保Provider组件的直接子级为单个封闭元素，切勿多个组件平行放置</div></li><li style="position: relative;"><div>其次，传递store</div><div>（1）constructor方法: Provider初始化时, 获取到props中的store对象;</div><div>（2） getChildContext方法: 将外部的store对象放入context对象中，使子孙组件上的connect可以直接访问到context对象中的store。</div></li></ul><div>注： context可以使子孙组件直接获取父级组件中的数据或方法，而无需一层一层通过props向下传递。context对象相当于一个独立的空间，父组件通过getChildContext()向该空间内写值；定义了contextTypes验证的子孙组件可以通过this.context.xxx，从context对象中读取xxx字段的值。</div><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">配置Connect（Connect在案例中的使用）</span></h3><div>首先在需要连接的组件中引入以下代码</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(170, 85, 0);">//作用：连接React组件与 Redux store</span></div><div><span style="color: rgb(119, 0, 136);">import</span> { <span style="color: rgb(0, 0, 255);">connect</span> } <span style="color: rgb(119, 0, 136);">from</span> <span style="color: rgb(170, 17, 17);">'react-redux'</span>;</div></div><div>使用connect连接</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div><br/></div><div><span style="color: rgb(119, 0, 136);">export</span> <span style="color: rgb(119, 0, 136);">default</span> connect((<span style="color: rgb(0, 0, 255);">state</span>) <span style="color: rgb(152, 26, 26);">=&gt;</span> {</div><div><span style="color: rgb(119, 0, 136);">return</span> <span style="color: rgb(0, 85, 170);">state</span></div><div>},(<span style="color: rgb(0, 0, 255);">dispatch</span>) <span style="color: rgb(152, 26, 26);">=&gt;</span> {</div><div><span style="color: rgb(119, 0, 136);">return</span> {</div><div>toggleSheet() {</div><div><span style="color: rgb(170, 85, 0);">// console.log(ActionSheet is show);</span></div><div><span style="color: rgb(0, 85, 170);">dispatch</span>({</div><div>type: <span style="color: rgb(170, 17, 17);">&quot;toggleSheet&quot;</span>,</div><div>isShowActionSheet: <span style="color: rgb(34, 17, 153);">true</span>,</div><div>})</div><div>}</div><div>}</div><div>})(Xheader);</div></div><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">配置Connect（参考git文档）</span></h3><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div>作用：连接React组件与 Redux store</div></blockquote><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: pre-wrap; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div>connect([mapStateToProps], [mapDispatchToProps], [mergeProps],[options])</div><div><br/></div><div><br/></div><div><br/></div></div><h4 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.25em; position: relative; line-height: 1.4; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.25em; position: relative; line-height: 1.4; cursor: text;">mapStateToProps</span></h4><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div>这个函数允许我们将store中的数据作为props绑定到组件上</div></blockquote><ol style="margin-top: 0.8em; margin-bottom: 0.8em; padding-left: 30px; position: relative;"><li style="position: relative;"><div>这个函数的第一个参数就是 Redux 的 store，你不必将 state 中的数据原封不动地传入组件，可以根据 state 中的数据，动态地输出组件需要的（最小）属性，也就是说我们可以按需返回我们需要的store数据</div></li><li style="position: relative;"><div>函数的第二个参数 ownProps，是组件自己的 props，有的时候，ownProps也会对其产生影响。</div></li></ol><div>当 state 变化，或者 ownProps 变化的时候，mapStateToProps 都会被调用，计算出一个新的 stateProps，（在与 ownProps merge 后）更新给组件</div><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: pre-wrap; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div>mapStateToProps(state, ownProps)</div><div><br/></div><div><br/></div><div><br/></div></div><h4 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.25em; position: relative; line-height: 1.4; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.25em; position: relative; line-height: 1.4; cursor: text;">mapDispatchToProps</span></h4><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div>connect 的第二个参数是 mapDispatchToProps，它的功能是，将action作为props绑定到组件上</div></blockquote><div style="margin-top: 15px; margin-bottom: 15px; padding: 8px 1em 6px; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: pre-wrap; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; position: relative !important;"><div>mapDispatchToProps(dispatch, ownProps)</div><div><br/></div><div><br/></div><div><br/></div></div><h4 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.25em; position: relative; line-height: 1.4; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.25em; position: relative; line-height: 1.4; cursor: text;">[mergeProps],[options]</span></h4><div>不管是 stateProps还是dispatchProps，都需要和ownProps合并之后才会被赋给组件，所以组件既有<span style="font-weight: bold;">state数据</span>也有<span style="font-weight: bold;">action方法</span>，connect 的第三个参数就是用来做这件事。通常情况下，你可以不传这个参数，connect 就会使用Object.assign替代该方法</div><div><span style="font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">[options] (Object)</span>如果指定这个参数，可以定制 connector 的行为。一般不用</div><h1 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 2.25em; position: relative; line-height: 1.2; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238);"><span style="break-inside: avoid; break-after: avoid-page; font-size: 2.25em; position: relative; line-height: 1.2; cursor: text; border-bottom: 1px solid rgb(238, 238, 238);">论constructor( )和super( )</span></h1><h2 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238);"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; border-bottom: 1px solid rgb(238, 238, 238);">constructor( )构造方法</span></h2><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div>这是ES6对类的默认方法，通过 new 命令生成对象实例时自动调用该方法。并且，该方法是类中必须有的，如果没有显示定义，则会默认添加空的constructor( )方法。</div></blockquote><h2 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238);"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; border-bottom: 1px solid rgb(238, 238, 238);">super( ) 继承</span></h2><ul style="margin-top: 0.8em; margin-bottom: 0.8em; padding-left: 30px; position: relative;"><li style="position: relative;"><div>在class方法中，继承是使用 extends 关键字来实现的。子类 必须 在 constructor( )调用 super( )方法，否则新建实例时会报错。</div></li><li style="position: relative;"><div>报错的原因是：子类是没有自己的 this 对象的，它只能继承自父类的 this 对象，然后对其进行加工，而super( )就是将父类中的this对象继承给子类的。没有 super，子类就得不到 this 对象。</div></li></ul><h2 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238);"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.75em; position: relative; line-height: 1.225; cursor: text; border-bottom: 1px solid rgb(238, 238, 238);">Es5与Es6关于继承的实现不同之处</span></h2><blockquote style="margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div>出现上面情况的原因是，ES5的继承机制与ES6完全不同。</div></blockquote><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">复习——ES5中new</span></h3><ul style="margin-top: 0.8em; margin-bottom: 0.8em; padding-left: 30px; position: relative;"><li style="position: relative;"><div>当一个构造函数前加上new的时候，背地里来做了四件事：</div></li><ul style="padding-left: 30px; position: relative;"><li style="position: relative;"><div>生成一个空的对象并将其作为 this；</div></li><li style="position: relative;"><div>将空对象的 <span style="font-weight: bold;">proto</span> 指向构造函数的 prototype；</div></li><li style="position: relative;"><div>运行该构造函数；</div></li><li style="position: relative;"><div>如果构造函数没有 return 或者 return 一个返回 this 值是基本类型，则返回this；如果 return 一个引用类型，则返回这个引用类型。</div></li></ul><li style="position: relative;"><div>简单解释，就是在ES5的继承中，先创建子类的实例对象this，然后再将父类的方法添加到this上（ Parent.apply(this) ）。而ES6采用的是先创建父类的实例this（故要先调用 super( )方法），完后再用子类的构造函数修改this。</div></li></ul><h3 style="margin-top: 1rem; margin-bottom: 1rem; break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;"><span style="break-inside: avoid; break-after: avoid-page; font-size: 1.5em; position: relative; line-height: 1.43; cursor: text;">super(props)---super()---以及不写super的区别</span></h3><ul style="margin-top: 0.8em; margin-bottom: 0.8em; padding-left: 30px; position: relative;"><li style="position: relative;"><div>如果你用到了constructor就必须写super(),是用来初始化this的，可以绑定事件到this上;</div></li><li style="position: relative;"><div>如果你在constructor中要使用this.props,就必须给super加参数：super(props)；</div></li><li style="position: relative;"><div><span style="font-weight: bold;">（无论有没有constructor，在render中this.props都是可以使用的，这是React自动附带的；）</span></div></li><li style="position: relative;"><div><span style="font-weight: bold;">如果没用到constructor,是可以不写的；React会默认添加一个空的constructor。</span></div></li><li style="position: relative;"><div><span style="font-weight: bold;">如果在render函数以外要使用this，就调用super()方法</span></div></li></ul><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">git下载安装包</span></div><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: pre-wrap; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><a href="https://github.com/facebook/create-react-app">https://github.com/facebook/create-react-app</a></div><div><br/></div><div><br/></div></div></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">全局安装该模块</span></div><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><a href="https://github.com/facebook/create-react-app" style="box-sizing: border-box;">https://github.com/facebook/create-react-app</a></div></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">安装完毕后会在全局有一个命令</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">create-react-app</span></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">使用</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">create</span></div></li></ul></div></span>
</div></body></html> 