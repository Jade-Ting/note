<html>
<head>
  <title>react项目中遇到的问题</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307425 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1487"/>
<h1>react项目中遇到的问题</h1>

<div>
<span><div><h2 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.75em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.225; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238);"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.75em; position: relative; font-weight: bold; line-height: 1.225; cursor: text; border-bottom: 1px solid rgb(238, 238, 238);">项目</span></h2><h4 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">路由重定向</span></h4><blockquote style="box-sizing: border-box; margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div style="box-sizing: border-box;"><a href="https://blog.csdn.net/wangrong111222/article/details/80720981" style="box-sizing: border-box; cursor: pointer; color: rgb(65, 131, 196); -webkit-user-drag: none;">百度</a></div></blockquote><ul style="box-sizing: border-box; margin: 0.8em 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">在所有组件路由最后添加</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">&lt;Redirect exact path=&quot;/&quot; to={{ pathname: '/home/' }} /&gt;</span><span style="box-sizing: border-box;">作用就是 进入页面 直接进入到Redirect  to的那个位置 ；就是一个强制跳转</span></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">但是报错：“You tried to redirect to the same route you're currently on: &quot;/home&quot;” ,</span></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">在所有组件路由前加</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">&lt;Route path=&quot;/&quot; render={() =&gt; (&lt;Redirect to=&quot;/home&quot;/&gt;)}&gt;&lt;/Route &gt;</span><span style="box-sizing: border-box;">还报错（百度）</span></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">最后选择直接在 home路由用</span><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">path=&quot;/&quot;</span><span style="box-sizing: border-box;">,地址</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">localhost:3000/#/</span><span style="box-sizing: border-box;">(试了在外层套</span><span style="box-sizing: border-box; opacity: 0.5; white-space: pre-wrap;">&lt;Switch&gt;</span><span style="box-sizing: border-box;">,结果一样的)</span></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">其他组件地址</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">localhost:3000/#/CourseList</span></div></li></ul><h4 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">input的value为空警告？</span></h4><ul style="box-sizing: border-box; margin: 0.8em 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">input标签有空的value=“ ”</span></div></li></ul><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">Warning: Failed prop type: You provided a</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">value</span> <span style="box-sizing: border-box;">prop to a form field without an</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">onChange</span> <span style="box-sizing: border-box;">handler. This will render a read-only field. If the field should be mutable use</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">defaultValue</span><span style="box-sizing: border-box;">. Otherwise, set either</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">onChange</span> <span style="box-sizing: border-box;">or</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">readOnly</span><span style="box-sizing: border-box;">.</span></div><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">警告：prop类型失败：在没有onChange处理程序的情况下，您向表单字段提供了值prop。这将呈现只读字段。如果字段应该是可变的，请使用Debug值。否则，设置Onchange或Read OnLead。</span></div><h4 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">React单个文件中定义多个组件</span></h4><blockquote style="box-sizing: border-box; margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">若需要将多个组件放在</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">common.js</span> <span style="box-sizing: border-box;">文件中</span></div></blockquote><ul style="box-sizing: border-box; margin: 0.8em 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">在</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">common.js</span> <span style="box-sizing: border-box;">定义</span></div></li></ul><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">class</span> <span style="box-sizing: border-box; color: rgb(0, 0, 255);">SelectCity</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">extends</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">React</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">Component</span><span style="box-sizing: border-box;">{};</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">class</span> <span style="box-sizing: border-box; color: rgb(0, 0, 255);">SelectProduct</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">extends</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">React</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">Component</span><span style="box-sizing: border-box;">{};</span></div></div><ul style="box-sizing: border-box; margin: 0.8em 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">在</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">common.js</span> <span style="box-sizing: border-box;">导出</span></div><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">export</span> <span style="box-sizing: border-box;">{</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">SelectCity，</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">SelectProduct</span><span style="box-sizing: border-box;">}</span></div></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">在其他文件需要用到</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">common.js</span> <span style="box-sizing: border-box;">的组件时，导入</span></div><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">import</span> <span style="box-sizing: border-box;">{</span> <span style="box-sizing: border-box; color: rgb(0, 0, 255);">SelectCity</span><span style="box-sizing: border-box;">,</span><span style="box-sizing: border-box; color: rgb(0, 0, 255);">SelectProduct</span><span style="box-sizing: border-box;">}</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">from</span> <span style="box-sizing: border-box; color: rgb(170, 17, 17);">'common.js'</span></div></div></li></ul><h4 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">方法没有执行而产生的警告</span></h4><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box;">Warning: Functions are not valid as a React child. This may happen if you return a Component instead of &lt;Component /&gt; from render. Or maybe you meant to call this function rather than return it.</span></div></div><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">解决：在render中问了使用页面二级跳转，使用了({})方法将最后一个return包裹，，可是最后没有执行该方法，导致警告。所以只要在该方法背后自执行下(后面加个括号)就好啦。</span></div><h4 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">history</span></h4><blockquote style="box-sizing: border-box; margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">关于history npm中有文档，react文档中也有。另外查找的</span> <a href="https://segmentfault.com/a/1190000010251949" style="box-sizing: border-box; cursor: pointer; color: rgb(65, 131, 196); -webkit-user-drag: none;">百度文档链接</a></div></blockquote><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">在有搜索栏的头部，点击搜索到搜索页面，点击搜索页面的取消返回前一页。一开始想到history.goBack方法。经过各种查找啊啊啊啊啊，嗯嗯，如下</span></div><ul style="box-sizing: border-box; margin: 0.8em 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">首先安装history</span></div><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box;">cnpm install</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">--save</span> <span style="box-sizing: border-box;">history</span></div></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">在页面引入（这里的只是引入</span><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">createBrowserHistory</span><span style="box-sizing: border-box;">）</span></div><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">import</span> <span style="box-sizing: border-box;">{</span> <span style="box-sizing: border-box; color: rgb(0, 0, 255);">createBrowserHistory</span> <span style="box-sizing: border-box;">}</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">from</span> <span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;history&quot;</span><span style="box-sizing: border-box;">;</span></div></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">将</span><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">createBrowserHistory()</span><span style="box-sizing: border-box;">方法赋给history</span></div><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">const</span> <span style="box-sizing: border-box; color: rgb(0, 0, 255);">history</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">createBrowserHistory</span><span style="box-sizing: border-box;">();</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">console</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">log</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">history</span><span style="box-sizing: border-box;">);</span><span style="box-sizing: border-box; color: rgb(170, 85, 0);">//------------------&gt;里面有location，以及很多方法</span></div></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">打印history，得到很多东西，以下为本次用到的</span></div><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">goBack</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">location：</span><span style="box-sizing: border-box;">{</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">hash</span><span style="box-sizing: border-box;">:</span> <span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;#/Search&quot;</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">，pathname</span><span style="box-sizing: border-box;">:</span> <span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;/&quot;</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">，……</span><span style="box-sizing: border-box;">}</span></div></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">两个思路：</span></div></li><ul style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">最初，想要获取到hash值，然后用link to 跳转，但出现各种问题，比如跳着跳着路由乱了，最后通过截取数组等，终于也能正常 link to。但是！前面一页若没有刷新，则跳转的都是有刷新过的页面，但是用路由跳转的页面不会刷新，因此……失败。</span></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">然后！我想到用GoBack方法，，之前不用是因为不懂用link to 该怎么使用，于是！在a标签中使用 onClick 事件！嗯嗯嗯，直接</span> <span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">onClick={history.goBack}</span> <span style="box-sizing: border-box;">. 大功告成！</span></div></li></ul></ul><h4 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">关于this.setState is not a function 的报错解</span></h4><ol style="box-sizing: border-box; margin: 0.8em 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">有可能是this指向错误，改用箭头函数。</span></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">[百度] 解决方式就是： 1、使用ES6 箭头函数。 2、不使用箭头函数，在函数结尾 .bind(this)</span></div></li></ol><h4 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">使用事件监听时，要记得移除监听</span></h4><blockquote style="box-sizing: border-box; margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">我在两个页面中都使用了监听滚动，出现警告 如下：</span></div></blockquote><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: pre-wrap; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div>Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.</div><div>无法对卸载的组件执行响应状态更新。这是一个no-op，但它表示应用程序中存在内存泄漏。要修复，请在componentWillUnmount方法中取消所有订阅和异步任务。</div><div><br/></div><div><br/></div></div><blockquote style="box-sizing: border-box; margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">以及在某个页面中报错表示找不到另一个页面的监听事件定义的事件。</span></div></blockquote><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">嗯嗯嗯嗯！然后加上componentWillUnmount移除监听事件就好了……</span></div><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">componentDidMount</span><span style="box-sizing: border-box;">() {</span></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">// 挂载页面滚动监听</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">window</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">addEventListener</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">'scroll'</span><span style="box-sizing: border-box;">,</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">bindScroll</span><span style="box-sizing: border-box;">,</span><span style="box-sizing: border-box; color: rgb(34, 17, 153);">true</span><span style="box-sizing: border-box;">)</span><span style="box-sizing: border-box; color: rgb(170, 85, 0);">//虽然我做的时候没有加true</span></div><div><span style="box-sizing: border-box;">}</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">componentWillUnmount</span><span style="box-sizing: border-box;">() {</span></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">// 移除页面滚动监听</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">window</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">removeEventListener</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">'scroll'</span><span style="box-sizing: border-box;">,</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">handleScroll</span><span style="box-sizing: border-box;">);</span></div><div><span style="box-sizing: border-box;">}</span></div></div><h4 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">在监听事件中可以触发函数</span></h4><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">componentDidMount</span><span style="box-sizing: border-box;">() {</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">window</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">addEventListener</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">'scroll'</span><span style="box-sizing: border-box;">,</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">handlesScroll</span><span style="box-sizing: border-box;">);</span></div><div><span style="box-sizing: border-box;">}</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">componentWillUnmount</span><span style="box-sizing: border-box;">() {</span></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">// 移除页面滚动监听</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">window</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">removeEventListener</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">'scroll'</span><span style="box-sizing: border-box;">,</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">handlesScroll</span><span style="box-sizing: border-box;">);</span></div><div><span style="box-sizing: border-box;">}</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">handlesScroll</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=</span> <span style="box-sizing: border-box;">()</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=&gt;</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">props</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">ListScroll</span><span style="box-sizing: border-box;">()</span> <span style="box-sizing: border-box; color: rgb(170, 85, 0);">//----&gt;触发reducer中的ListScroll函数</span></div><div><span style="box-sizing: border-box;">}</span></div></div><h4 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">关于React页面跳转后新页面不能回到顶部的问题</span></h4><blockquote style="box-sizing: border-box; margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">在 React 组件间进行页面跳转后，发现页面的位置并不在页面顶部，而是在页面跳转前的位置。就是说浏览器的滚动条并没有回到顶部的位置。</span></div></blockquote><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">解决方法</span></div><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">//方法一：（可能是ref那一块没有设置好，该方法没有成功）</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">class</span> <span style="box-sizing: border-box; color: rgb(0, 0, 255);">MyComponent</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">extends</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">Component</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">componentDidMount</span><span style="box-sizing: border-box;">() {</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">node</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">scrollIntoView</span><span style="box-sizing: border-box;">();</span></div><div><span style="box-sizing: border-box;">}</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">render</span><span style="box-sizing: border-box;">() {</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">ref</span><span style="box-sizing: border-box;">={</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">node</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=&gt;</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">node</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">node</span><span style="box-sizing: border-box;">}</span> <span style="box-sizing: border-box; color: rgb(17, 119, 0);">/&gt;</span></div><div><span style="box-sizing: border-box;">}</span></div><div><span style="box-sizing: border-box;">}</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">//方法二：强行（成功，在该项目中，在头部组件中使用，则重新进入每一个页面时，都会回到顶部，</span></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">//单独在某个页面的组件中使用，则只有使用的页面才会回到顶部）</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">componentWillMount</span><span style="box-sizing: border-box;">(){</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">document</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">getElementById</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">'root'</span><span style="box-sizing: border-box;">).</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">scrollIntoView</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(34, 17, 153);">true</span><span style="box-sizing: border-box;">);</span><span style="box-sizing: border-box; color: rgb(170, 85, 0);">//为ture返回顶部，false为底部</span></div><div><span style="box-sizing: border-box;">}</span></div></div><h5 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">scrollIntoView</span></h5><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">Element</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">scrollIntoView</span><span style="box-sizing: border-box;">()</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">方法让当前的元素滚动到浏览器窗口的可视区域内。</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">【注意】取决于其它元素的布局情况，此元素可能不会完全滚动到顶端或底端</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">【详情再百度吧！】</span></div></div><h4 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1.25em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">关于react页面之间传参的方式</span></h4><blockquote style="box-sizing: border-box; margin: 0.8em 0px; border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119);"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">本次项目中使用到的方法</span></div></blockquote><h5 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">redux传参</span></h5><ul style="box-sizing: border-box; margin: 0.8em 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">【注意】利用redux在不同页面传参时，当接收参数的页面刷新后，参数会消失（根据redux传递的id作为主键渲染页面，刷新后接收到的id也被刷新，因此接收不到参数即参数消失）</span></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">利用redux创建reducer仓库，（实际上两个页面都从数据中获取参数）。【注意判断弹窗的index是否与点击的头像的index相同，是的话，就在弹窗组件渲染第index个数据】</span></div></li><ul style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">头像组件：</span></div></li></ul><li lang="jsx" style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-image: inherit; background-position: inherit; background-size: inherit; background-repeat: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; width: inherit; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">//利用redux，实现点击哪个头像，就出现弹窗，弹窗中的头像与名字信息与点击的同</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">//头像页面：render中的内容</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">ul</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;teacher-list&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box;">{(()</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=&gt;</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">props</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">teachersData</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">map</span><span style="box-sizing: border-box;">((</span><span style="box-sizing: border-box; color: rgb(0, 0, 255);">item</span><span style="box-sizing: border-box;">,</span> <span style="box-sizing: border-box; color: rgb(0, 0, 255);">index</span><span style="box-sizing: border-box;">)</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=&gt;</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span style="box-sizing: border-box;">(</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">li</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">key</span><span style="box-sizing: border-box;">={</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">index</span><span style="box-sizing: border-box;">}</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">data-index</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;0&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">img</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">onClick</span><span style="box-sizing: border-box;">={</span><span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">props</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">toggloTeacherPop</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">bind</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">,</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">index</span><span style="box-sizing: border-box;">)}</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;teacher-avatar&quot;</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">src</span><span style="box-sizing: border-box;">={</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">item</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">avatar</span><span style="box-sizing: border-box;">}</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">alt</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;&quot;</span> <span style="box-sizing: border-box; color: rgb(17, 119, 0);">/&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">p</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;teacher-name&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span><span style="box-sizing: border-box;">{</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">item</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">teacherName</span><span style="box-sizing: border-box;">}</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">p</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">li</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box;">);</span></div><div><span style="box-sizing: border-box;">});</span></div><div><span style="box-sizing: border-box;">})()}</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">ul</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><br/></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">//连接仓库</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">export</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">default</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">connect</span><span style="box-sizing: border-box;">((</span><span style="box-sizing: border-box; color: rgb(0, 0, 255);">state</span><span style="box-sizing: border-box;">)</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=&gt;</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span style="box-sizing: border-box; color: rgb(0, 85, 170);">state</span></div><div><span style="box-sizing: border-box;">}, (</span><span style="box-sizing: border-box; color: rgb(0, 0, 255);">dispatch</span><span style="box-sizing: border-box;">)</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=&gt;</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">toggloTeacherPop</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(0, 0, 255);">index</span><span style="box-sizing: border-box;">) {</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">console</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">log</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">props</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">teachersData</span><span style="box-sizing: border-box;">[</span><span style="box-sizing: border-box; color: rgb(0, 85, 170);">index</span><span style="box-sizing: border-box;">]);</span></div><div><span style="box-sizing: border-box; color: rgb(0, 85, 170);">dispatch</span><span style="box-sizing: border-box;">({</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">type</span><span style="box-sizing: border-box;">:</span> <span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;toggloTeacherPop&quot;</span><span style="box-sizing: border-box;">,</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">isTeachersPop</span><span style="box-sizing: border-box;">:</span> <span style="box-sizing: border-box; color: rgb(34, 17, 153);">true</span><span style="box-sizing: border-box;">,</span> <span style="box-sizing: border-box; color: rgb(170, 85, 0);">//------点击弹窗</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">teacherIdx</span><span style="box-sizing: border-box;">:</span> <span style="box-sizing: border-box; color: rgb(0, 85, 170);">index</span> <span style="box-sizing: border-box; color: rgb(170, 85, 0);">//--------点击到哪个，就将哪个的index传递到数据库，改变teacherIdx，</span></div><div><span style="box-sizing: border-box;">});</span></div><div><span style="box-sizing: border-box;">},</span></div><div><span style="box-sizing: border-box;">}</span></div><div><span style="box-sizing: border-box;">})(</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">XIntroduceTeacher</span><span style="box-sizing: border-box;">);</span></div></li><ul style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">仓库页面 index.js</span></div></li></ul><li lang="jsx" style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-image: inherit; background-position: inherit; background-size: inherit; background-repeat: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; width: inherit; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">// Reducer 创建仓库</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">const</span> <span style="box-sizing: border-box; color: rgb(0, 0, 255);">store</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">createStore</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(119, 0, 136);">function</span> <span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(0, 0, 255);">state</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">teacherIdx</span><span style="box-sizing: border-box;">:</span> <span style="box-sizing: border-box; color: rgb(17, 102, 68);">0</span><span style="box-sizing: border-box;">,</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">teachersData</span><span style="box-sizing: border-box;">: [</span></div><div><span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">avatar</span><span style="box-sizing: border-box;">:</span> <span style="box-sizing: border-box; color: rgb(170, 17, 17);">'</span><a href="http://f2.c.hjfile.cn/pic/201505/470cee05-dc4e-4def-93a7-ef34bfff6b0a_n.png" style="box-sizing: border-box; color: rgb(170, 17, 17);">http://f2.c.hjfile.cn/pic/201505/470cee05-dc4e-4def-93a7-ef34bfff6b0a_n.png</a><span style="box-sizing: border-box; color: rgb(170, 17, 17);">'</span><span style="box-sizing: border-box;">,</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">teacherName</span><span style="box-sizing: border-box;">:</span> <span style="box-sizing: border-box; color: rgb(170, 17, 17);">'小兜老师'</span><span style="box-sizing: border-box;">,</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">summary</span><span style="box-sizing: border-box;">:</span> <span style="box-sizing: border-box; color: rgb(170, 17, 17);">'沪江网校教师，主授四六级系列课程。对四六级考试有多年研究经验，就四六级词汇更有个人独到的看法。语言功底扎实，授课平实且风趣幽默，深受学生喜爱。'</span></div><div><span style="box-sizing: border-box;">}</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">，</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">……</span></div><div><span style="box-sizing: border-box;">]</span></div><div><span style="box-sizing: border-box;">},</span> <span style="box-sizing: border-box; color: rgb(0, 0, 255);">action</span><span style="box-sizing: border-box;">) {</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">case</span> <span style="box-sizing: border-box; color: rgb(170, 17, 17);">'toggloTeacherPop'</span> <span style="box-sizing: border-box;">:</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(85, 85, 85);">...</span><span style="box-sizing: border-box; color: rgb(0, 85, 170);">state</span><span style="box-sizing: border-box;">,</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">isTeachersPop</span><span style="box-sizing: border-box;">:</span> <span style="box-sizing: border-box; color: rgb(0, 85, 170);">action</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">isTeachersPop</span><span style="box-sizing: border-box;">,</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">teacherIdx</span><span style="box-sizing: border-box;">:</span> <span style="box-sizing: border-box; color: rgb(0, 85, 170);">action</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">teacherIdx</span></div><div><span style="box-sizing: border-box;">}</span></div></li><ul style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">弹窗组件</span></div></li></ul><li lang="jsx" style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-image: inherit; background-position: inherit; background-size: inherit; background-repeat: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; width: inherit; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box;">{(()</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=&gt;</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">props</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">teachersData</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">map</span><span style="box-sizing: border-box;">((</span><span style="box-sizing: border-box; color: rgb(0, 0, 255);">item</span><span style="box-sizing: border-box;">,</span> <span style="box-sizing: border-box; color: rgb(0, 0, 255);">index</span><span style="box-sizing: border-box;">)</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=&gt;</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">if</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(0, 85, 170);">index</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">==</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">props</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">teacherIdx</span><span style="box-sizing: border-box;">){</span></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">//-------------&gt;【判断index是否与teacherIdx，即判断当前的index是否与点击的头像的index相同，是的话，就在弹窗组件渲染第index个数据】</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span style="box-sizing: border-box;">(</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">key</span><span style="box-sizing: border-box;">={</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">index</span><span style="box-sizing: border-box;">}</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;content&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">img</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">src</span><span style="box-sizing: border-box;">={</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">item</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">avatar</span><span style="box-sizing: border-box;">}</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;img&quot;</span> <span style="box-sizing: border-box; color: rgb(17, 119, 0);">/&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;hi&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;text&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;name&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box;">{</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">item</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">teacherName</span><span style="box-sizing: border-box;">}</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;desc&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box;">{</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">item</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">summary</span><span style="box-sizing: border-box;">}</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box;">);</span></div><div><span style="box-sizing: border-box;">}</span></div><div><span style="box-sizing: border-box;">});</span></div><div><span style="box-sizing: border-box;">})()}</span></div></li></ul><h5 style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1em; position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text;"><span style="box-sizing: border-box; break-inside: avoid; break-after: avoid-page; orphans: 2; font-size: 1em; position: relative; font-weight: bold; line-height: 1.4; cursor: text;">router传参</span></h5><ul style="box-sizing: border-box; margin: 0.8em 0px 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">利用Link to 传参</span></div></li><ul style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">列表页，数据也是从reducer仓库中获取</span></div></li></ul><li lang="jsx" style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-image: inherit; background-position: inherit; background-size: inherit; background-repeat: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; width: inherit; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">props</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">courseData</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">map</span><span style="box-sizing: border-box;">((</span><span style="box-sizing: border-box; color: rgb(0, 0, 255);">item</span><span style="box-sizing: border-box;">,</span> <span style="box-sizing: border-box; color: rgb(0, 0, 255);">index</span><span style="box-sizing: border-box;">)</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=&gt;</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span style="box-sizing: border-box;">(</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">Link</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">key</span><span style="box-sizing: border-box;">={</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">index</span><span style="box-sizing: border-box;">}</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">to</span><span style="box-sizing: border-box;">={</span><span style="box-sizing: border-box; color: rgb(255, 85, 0);">`/detail/${</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">item</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">dataId</span><span style="box-sizing: border-box; color: rgb(255, 85, 0);">}`</span><span style="box-sizing: border-box;">}</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;ke_info&quot;</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">data-classid</span><span style="box-sizing: border-box;">={</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">item</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">dataId</span><span style="box-sizing: border-box;">}</span> <span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">span</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;tit&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span><span style="box-sizing: border-box;">{</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">item</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">title</span><span style="box-sizing: border-box;">}</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">span</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">span</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;ori_price&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span><span style="box-sizing: border-box;">￥{</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">item</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">ori_price</span><span style="box-sizing: border-box;">}{</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">item</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">small_ori_price</span><span style="box-sizing: border-box;">}</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">span</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">span</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;desc&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span><span style="box-sizing: border-box;">{</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">item</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">desc</span><span style="box-sizing: border-box;">} {</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">item</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">time</span><span style="box-sizing: border-box;">}</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">span</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">Link</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box;">);</span></div><div><span style="box-sizing: border-box;">});</span></div></li><ul style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">详情页</span></div></li><ul style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">{路由跳转成功，得到</span> <a href="http://localhost:3000/#/detail/18390647" style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; border: 1px solid rgb(223, 226, 229); background-color: rgb(248, 248, 248); border-radius: 3px;">http://localhost:3000/#/detail/18390647</a><span style="box-sizing: border-box;">},但是组件中打印props为空</span></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">解决方法请看下一点【注意】内容</span></div></li></ul></ul><li lang="jsx" style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-image: inherit; background-position: inherit; background-size: inherit; background-repeat: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; width: inherit; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box;">{</span><span style="box-sizing: border-box; color: rgb(170, 85, 0);">/*一开始没有成功</span></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">（原因：跳转到详情后，containers\Detail\DetailCourse\DetailCourse.jsx中路由重定向最初为detail/XdetailHome,因此把数据接在了detail/后面，没有传递成功）</span></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">【解决】：containers\Detail\DetailCourse\DetailCourse.jsx中路由改为 /detail/:dataId</span></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">*/</span><span style="box-sizing: border-box;">}</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">render</span><span style="box-sizing: border-box;">() {</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span style="box-sizing: border-box;">(</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;tab-content&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">className</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;tab-content-item tab-basic-info&quot;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">Router</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">Switch</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">Route</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">exact</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">path</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;/detail/:dataId&quot;</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">component</span><span style="box-sizing: border-box;">={</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">XdetailHome</span><span style="box-sizing: border-box;">}</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">/&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">Redirect</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">path</span><span style="box-sizing: border-box;">=</span><span style="box-sizing: border-box; color: rgb(170, 17, 17);">&quot;/&quot;</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">to</span><span style="box-sizing: border-box;">={{</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">pathname</span><span style="box-sizing: border-box;">:</span> <span style="box-sizing: border-box; color: rgb(170, 17, 17);">'/detail/:dataId'</span> <span style="box-sizing: border-box;">}}</span> <span style="box-sizing: border-box; color: rgb(17, 119, 0);">/&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">Switch</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">Router</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box;">);</span></div><div><span style="box-sizing: border-box;">}</span></div></li><li style="box-sizing: border-box; margin: 0px; position: relative;"><div style="box-sizing: border-box;"><span style="box-sizing: border-box;">【注意】用Link传递的数据，接收的页面需要先从最大的组件开始接收，然后一层一层传递到需要使用的组件中</span></div><div style="box-sizing: border-box; overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 0.9em; white-space: normal; text-align: left; break-inside: avoid; background-color: rgb(248, 248, 248); border: 1px solid rgb(223, 226, 229); border-radius: 3px; padding: 8px 1em 6px; margin-bottom: 15px; margin-top: 15px; color: rgb(51, 51, 51); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; position: relative !important;"><div><br/></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">class</span> <span style="box-sizing: border-box; color: rgb(0, 0, 255);">Detail</span> <span style="box-sizing: border-box; color: rgb(119, 0, 136);">extends</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0);">Component</span> <span style="box-sizing: border-box;">{</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">constructor</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(0, 0, 255);">props</span><span style="box-sizing: border-box;">) {</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">super</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(0, 85, 170);">props</span><span style="box-sizing: border-box;">);</span> <span style="box-sizing: border-box; color: rgb(170, 85, 0);">// --------&gt;得到props</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">props</span> <span style="box-sizing: border-box; color: rgb(152, 26, 26);">=</span> <span style="box-sizing: border-box; color: rgb(0, 85, 170);">props</span><span style="box-sizing: border-box;">;</span></div><div><span style="box-sizing: border-box; color: rgb(170, 85, 0);">// console.log(this.props.location.pathname);</span></div><div><span style="box-sizing: border-box;">}</span></div><div><span style="box-sizing: border-box; color: rgb(0, 0, 0);">render</span><span style="box-sizing: border-box;">() {</span></div><div><span style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span style="box-sizing: border-box;">(</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">Xheader</span> <span style="box-sizing: border-box; color: rgb(17, 119, 0);">/&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">XPlayer</span> <span style="box-sizing: border-box; color: rgb(17, 119, 0);">/&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">XdetailNav</span> <span style="box-sizing: border-box; color: rgb(17, 119, 0);">/&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">DetailCourse</span> <span style="box-sizing: border-box; color: rgb(0, 0, 204);">url</span><span style="box-sizing: border-box;">={</span><span style="box-sizing: border-box; color: rgb(119, 0, 136);">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">props</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">location</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">pathname</span><span style="box-sizing: border-box;">}</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">/&gt;</span> <span style="box-sizing: border-box;">{</span><span style="box-sizing: border-box; color: rgb(170, 85, 0);">/*---&gt;将props传递给子组件*/</span><span style="box-sizing: border-box;">}</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">XdetailFooter</span> <span style="box-sizing: border-box; color: rgb(17, 119, 0);">/&gt;</span></div><div><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&lt;/</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">div</span><span style="box-sizing: border-box; color: rgb(17, 119, 0);">&gt;</span></div><div><br/></div><div><span style="box-sizing: border-box;">);</span></div><div><span style="box-sizing: border-box;">}</span></div><div><span style="box-sizing: border-box;">}</span></div></div></li></ul></div></span>
</div></body></html> 