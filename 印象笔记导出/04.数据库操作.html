<html>
<head>
  <title>04.数据库操作</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307425 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1287"/>
<h1>04.数据库操作</h1>

<div>
<span><div><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; font-weight: bold; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; line-height: 1.43; font-size: 1.5em; position: relative; font-weight: bold; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">表操作(了解)</span></h3><div><span style="box-sizing: border-box; line-height: 1.43; font-size: 1.5em; position: relative; font-weight: bold; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">在cmd中操作</span></div><ul style="box-sizing: border-box; padding: 0px 0px 0px 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Segoe UI&quot;, Arial, freesans, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><li style="box-sizing: border-box;"><div><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"></p><div>连接数据库</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">格式：</span><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px;-en-paragraph:true;">mysql -h主机地址 -u用户名 -p用户密码</span></div></div></li><li style="box-sizing: border-box;"><div><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"></p><div>显示所有数据库</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">格式：</span><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px;-en-paragraph:true;">show databases;</span></div></div></li><li style="box-sizing: border-box;"><div><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"></p><div>创建数据库</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">格式：</span><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px;-en-paragraph:true;">create database &lt;数据库名&gt;;</span></div></div></li><li style="box-sizing: border-box;"><div><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"></p><div>使用数据库</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">格式：</span><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px;-en-paragraph:true;">use &lt;数据库名&gt;;</span></div></div></li><li style="box-sizing: border-box;"><div><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"></p><div>显示当前数据库所有表</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">格式：</span><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px;-en-paragraph:true;">show tables;</span></div></div></li><li style="box-sizing: border-box;"><div><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"></p><div>创建数据表</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">格式：</span><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px;-en-paragraph:true;">create table &lt;表名&gt; (&lt;字段名1&gt; &lt;类型1&gt; [,..&lt;字段名n&gt; &lt;类型n&gt;]);</span></div><div style="box-sizing: border-box; overflow: auto; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; margin-top: 0px; margin-bottom: 16px; padding: 16px; line-height: 1.45; background-color: rgb(247, 247, 247); border-radius: 3px; word-wrap: normal;"><div><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background: transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; word-wrap: normal;">create table MyGuests (</span></div><div><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background: transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; word-wrap: normal;">id int(6) unsigned auto_increment primary key,</span></div><div><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background: transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; word-wrap: normal;">firstname varchar(30) not null,</span></div><div><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background: transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; word-wrap: normal;">lastname varchar(30) not null,</span></div><div><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background: transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; word-wrap: normal;">email varchar(50),</span></div><div><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background: transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; word-wrap: normal;">reg_date timestamp</span></div><div><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background: transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; word-wrap: normal;">)</span></div></div><div><br style="box-sizing: border-box;"/></div><div>以上创建一个名为 “MyGuests” 的表，包含5个列： “id”, “firstname”, “lastname”, “email” 和 “reg_date”，参数如下：</div></div></li><ul style="box-sizing: border-box; padding: 0px 0px 0px 2em; margin-top: 0px; margin-bottom: 0px;"><li style="box-sizing: border-box;"><div>数据类型:</div></li><ul style="box-sizing: border-box; padding: 0px 0px 0px 2em; margin-top: 0px; margin-bottom: 0px;"><li style="box-sizing: border-box;"><div>INT(整型),</div></li><li style="box-sizing: border-box;"><div>FLOAT(浮点),</div></li><li style="box-sizing: border-box;"><div>CHAR(固定长度字符串),</div></li><li style="box-sizing: border-box;"><div>VARCHAR(可变长度字符串),</div></li><li style="box-sizing: border-box;"><div>BLOB(二进制),</div></li><li style="box-sizing: border-box;"><div>TEXT(字符串)</div></li><li style="box-sizing: border-box;"><div>TIMESTAMP(时间戳)</div></li></ul><li style="box-sizing: border-box;"><div>列的其他属性</div></li><ul style="box-sizing: border-box; padding: 0px 0px 0px 2em; margin-top: 0px; margin-bottom: 0px;"><li style="box-sizing: border-box;"><div>NOT NULL - 每一行都必须含有值（不能为空），null 值是不允许的。</div></li><li style="box-sizing: border-box;"><div>DEFAULT value - 设置默认值</div></li><li style="box-sizing: border-box;"><div>UNSIGNED - 使用无符号数值类型，0 及正数</div></li><li style="box-sizing: border-box;"><div>AUTO_INCREMENT - 设置 MySQL 字段的值在新增记录时每次自动增长 1</div></li><li style="box-sizing: border-box;"><div>PRIMARY KEY - 设置数据表中每条记录的唯一标识。 通常列的 PRIMARY KEY 设置为 ID 数值，与 AUTO_INCREMENT 一起使用。</div></li></ul></ul><li style="box-sizing: border-box;"><div><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"></p><div>删除表：</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">格式：</span><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px;-en-paragraph:true;">drop table &lt;表名&gt;;</span></div><div style="box-sizing: border-box; overflow: auto; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; margin-top: 0px; margin-bottom: 16px; padding: 16px; line-height: 1.45; background-color: rgb(247, 247, 247); border-radius: 3px; word-wrap: normal;"><div><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background: transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; word-wrap: normal;">drop table MyGuests;</span></div><div><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background: transparent; border-radius: 3px; word-break: normal; white-space: pre; border: 0px; word-wrap: normal;">drop table if exists MyGuests</span></div></div></div></li><li style="box-sizing: border-box;"><div><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"></p><div>查询表结构：</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px;-en-paragraph:true;">desc MyGuests</span></div></div></li><li style="box-sizing: border-box;"><div><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"></p><div>修改表名。</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px;-en-paragraph:true;">rename table MyClass to YouClass;</span></div></div></li><li style="box-sizing: border-box;"><div><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"></p><div>增加字段</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px;-en-paragraph:true;">alter table MyGuests add sku_id bigint(20) unsigned DEFAULT NULL COMMENT '商品销售码';</span></div></div></li><li style="box-sizing: border-box;"><div><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"></p><div>复制表结构：</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px;-en-paragraph:true;">create table table1 like table;</span></div></div></li></ul></div></span>
</div></body></html> 