åœ¨[ä½¿ç”¨gh-pagesæ‰‹åŠ¨å‘å¸ƒ](https://github.com/Jade-Ting/note/blob/master/github-pages/%E4%BD%BF%E7%94%A8gh-pages%E6%89%8B%E5%8A%A8%E5%8F%91%E5%B8%83.md)ä¸­æˆ‘ä»¬ä»‹ç»äº†å®‰è£… `gh-pages`ï¼Œä½¿ç”¨å‘½ä»¤è¡Œæ¥è¿›è¡Œæ‰‹åŠ¨å‘å¸ƒã€‚

ä½†æ˜¯æ¯•ç«Ÿæ˜¯æ‰‹åŠ¨å‘å¸ƒï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦åœ¨`npm run build`æ‰“åŒ… `npm run deploy`å‘å¸ƒä¹‹åæ‰èƒ½æ¨é€åˆ°è¿œç¨‹ä¸Šã€‚

ğŸ˜æ‡’äººæœ‰æ‡’ç¦ï¼Œ äºæ˜¯æˆ‘å­¦ä¼šäº†è‡ªåŠ¨å‘å¸ƒï¼Œå“ˆå“ˆå“ˆå“ˆã€‚

### ä½¿ç”¨github actionsè‡ªåŠ¨å‘å¸ƒgh-pages
> å‚è€ƒ[æ·±å…¥ä½†ä¸æ·ºå‡ºï¼Œå¦‚ä½•ç”¨ github actions è‡ªå‹•ç™¼ä½ˆ gh-pages](https://medium.com/@milkmidi/%E6%B7%B1%E5%85%A5%E4%BD%86%E4%B8%8D%E6%B7%BA%E5%87%BA-%E5%A6%82%E4%BD%95%E7%94%A8-github-actions-%E8%87%AA%E5%8B%95%E7%99%BC%E4%BD%88-gh-pages-8183464dfe84) | [Flutter Web â€” Github Actions-Github Pages](https://medium.com/flutter-community/flutter-web-github-actions-github-pages-dec8f308542a) | å‰ä¸€ç¯‡ç›¸å½“äºåä¸€ç¯‡çš„ç¿»è¯‘æ–‡


#### è®¾ç½®github

1. ç‚¹å‡»githubå¤´åƒ -> `setting` -> è¿›å…¥å·¦ä¾§çš„`Developer settings` -> å·¦ä¾§`Personal access tokens` -> ç‚¹å‡» `Generate new token` (å¦‚æœä¹‹å‰éƒ½æ²¡æœ‰è®¾ç½®è¿‡ï¼Œé‚£åº”è¯¥ä¸ç”¨ç‚¹å‡»å°±èƒ½å‡ºç°é€‰æ‹©æ¡†çš„é¡µé¢)
![image.png](https://i.loli.net/2020/06/13/bHeQjNgf6RBqGAZ.png)

2. å‹¾é€‰ `repo` -> `repo:status` å’Œ  `public_repo`åç‚¹å‡» `Generate token`ç”Ÿæˆtokenï¼Œ ã€æ³¨æ„ï¼Œç”Ÿæˆtokenåå…ˆå¤åˆ¶ä¿å­˜tokenã€‘
![image.png](https://i.loli.net/2020/06/13/b5HwnUKd6Vq9Av8.png)

3. ç”Ÿæˆtokené¡µé¢, å¯ä»¥æˆªå›¾æˆ–å¤åˆ¶ä¿å­˜
![image.png](https://i.loli.net/2020/06/13/xKqImPL5Vd4NvQe.png)

4. åˆ°éœ€è¦è‡ªåŠ¨å‘å¸ƒçš„ä»“åº“ä¸­ï¼Œsetting -> å·¦ä¾§Secrets -> New Secret -> è¾“å…¥åå­—å’Œåˆšåˆšå¤åˆ¶çš„token -> add secret
![image.png](https://i.loli.net/2020/06/15/NSmk3OHKpZc5f7s.png)

5. æ·»åŠ GitHub action

ç¬¬ä¸€ç§åšæ³•ï¼šç‚¹å‡»action -> ç‚¹å‡»set up workflow -> å¡«å†™ ymlæ–‡ä»¶ã€‚

ç¬¬äºŒç§åšæ³•ï¼šç›´æ¥åœ¨æœ¬åœ°é¡¹ç›®æ ¹ç›®å½•æ·»åŠ  .github\workflows\gh-pages.ymlæ–‡ä»¶ï¼Œå†æ¨é€åˆ°è¿œç¨‹ã€‚

å¯ä»¥å‚è€ƒï¼š
```yml
# .github/workflows/gh-pages.yml

name: github pages

on:
  push:
    branches:
      - master # default branch

jobs:
  deploy:
    runs-on: ubuntu-18.04
    steps:
      - uses: actions/checkout@v2
      - run: npm install
      - run: npm run build
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./build

```